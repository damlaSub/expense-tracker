<main class="main py-4 px-3">
  <div
    class="expenses-list"
    infiniteScroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
    [scrollWindow]="false"
    (scrolled)="onScroll()"
  >
    <div *ngFor="let report of expensesReports" class="chart-container p-3 rounded shadow-sm mb-4">
      <!-- Header with date and total -->
      <div class="d-flex justify-content-between align-items-center px-3">
        <h6 class="mb-0">{{ report.formattedDate }}</h6>
        <span class="fw-bold">{{ report.dailyTotal }} <i class="bi bi-currency-euro"></i></span>
      </div>

      <!-- No expenses message -->
      <div *ngIf="report.expenses.length === 0" class="text-center mt-3">
        <p>No expenses recorded</p>
      </div>

      <!-- Expenses list -->
      <div *ngIf="report.expenses.length > 0" class="mt-3">
        <ul class="list-group">
          <app-expense-item
            *ngFor="let expense of report.expenses"
            [expenses]="report.expenses" 
            [getIconForCategory]="getIconForCategory"
            [showDescription]="true"
          ></app-expense-item>
        </ul>
      </div>
    </div>
  </div>
</main>
